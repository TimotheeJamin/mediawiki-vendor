!! Version 2
#
# This file will hold tests for separator handling functionality

!! article
Template:1x
!! text
{{{1}}}
!! endarticle

# This is a regression test that indirectly tests the expectation
# by ensuring that there are no nowikis around [2] on the second line
!! test
Newlines reset separator state
!! options
parsoid=wt2wt
!! wikitext
{|
|[[Foo]] [1]
 |[[Bar]] [2]
|}
!! html/parsoid
NOT NEEDED
!! end

!! test
Selser: Reuse separator before first content node of body
!! options
parsoid={
  "modes": ["selser"],
  "selser": "noauto",
  "changes": [
     [ "p", "html", "BAR" ]
  ]
}
!! wikitext
 <noinclude>{{1x|<div>foo</div>}}</noinclude>

FOO
!! wikitext/edited
 <noinclude>{{1x|<div>foo</div>}}</noinclude>

BAR
!! end
